<h2>Your Shopping Cart</h2>

<div>
  <table class="table">
    <thead>
      <tr>
        <th>Product</th>
        <th>Unit Price</th>
        <th>Quantity</th>
        <th>Total Price</th>
        <th>Delete Items</th>
      </tr>
    </thead>

    <tbody>
      <% @line_items.each do |line_item| %>
      <tr>
        <td><%=line_item.product.name %></td>
        <td><%= number_to_currency(line_item.product.price, :precision => (line_item.product.price.round == line_item.product.price)? 0 : 2) %></td>
        <td><%= line_item.quantity %></td>
        <td><%= number_to_currency(line_item.line_item_total, :precision => (line_item.line_item_total.round == line_item.line_item_total)? 0 : 2) %></td>
        <td><%= link_to "Remove Item", line_item, method: :delete, data: {confirm: "Are you sure?"}, class: "btn btn-danger btn-sm" %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div>
  <% unless @line_items.empty? %>
    <%= link_to "Proceed to Checkout?", checkout_path, class: "btn btn-success" %>
    <% end %>
    <%= link_to "Continue Shopping", root_path, class: "btn btn-info" %>
</div>
